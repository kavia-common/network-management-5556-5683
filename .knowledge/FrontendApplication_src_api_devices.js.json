{"is_source_file": true, "format": "JavaScript", "description": "This file provides an API module for managing devices in a network management application. It includes functions to list, get, create, update, delete, and ping devices, supporting both mock data and real backend interactions. The file defines internal helper functions for data normalization and mapping between frontend and backend data schemas.", "external_files": ["./client"], "external_methods": ["http.request", "getUseMocks"], "published": ["listDevices", "getDevice", "createDevice", "updateDevice", "deleteDevice", "pingDevice"], "classes": [], "methods": [{"name": "listDevices({ page, limit } = {})", "description": "Fetches a list of devices, supports pagination if backend is paginated, or fallback to client-side pagination.", "scope": "", "scopeKind": ""}, {"name": "getDevice(id)", "description": "Retrieves a single device by its ID.", "scope": "", "scopeKind": ""}, {"name": "createDevice(payload)", "description": "Creates a new device, with mock support for uniqueness constraints.", "scope": "", "scopeKind": ""}, {"name": "updateDevice(id, payload)", "description": "Updates an existing device identified by ID.", "scope": "", "scopeKind": ""}, {"name": "deleteDevice(id)", "description": "Deletes a device by ID.", "scope": "", "scopeKind": ""}, {"name": "pingDevice(id)", "description": "Triggers a status check (ping) for a device, updating its status and last_checked timestamp.", "scope": "", "scopeKind": ""}, {"name": "normalizeServerPagination(res)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["http.request", "getUseMocks"], "search-terms": ["devices API", "device management functions", "mock store devices", "network devices CRUD", "device ping function", "frontend API devices"], "state": 2, "file_id": 52, "knowledge_revision": 274, "git_revision": "ae715ede9a0ab7d23da433a7fbe38d63c074a283", "revision_history": [{"219": "7b5cb4fb9d331048ac309f089e56750130ab028e"}, {"244": "7b5cb4fb9d331048ac309f089e56750130ab028e"}, {"248": "7b5cb4fb9d331048ac309f089e56750130ab028e"}, {"252": "eb785b146935bfac45a546358c0cb89801aae2d2"}, {"273": "fd194fa8c5f44ea0d03a00f3194fafaea7b5c5ca"}, {"274": "ae715ede9a0ab7d23da433a7fbe38d63c074a283"}], "ctags": [{"_type": "tag", "name": "createDevice", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function createDevice(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^      err.data = { field: 'name', message: 'Device name or IP must be unique.' };$/", "language": "JavaScript", "kind": "class", "scope": "err", "scopeKind": "class"}, {"_type": "tag", "name": "delay", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^const delay = (ms) => new Promise((r) => setTimeout(r, ms));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteDevice", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function deleteDevice(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "field", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^      err.data = { field: 'name', message: 'Device name or IP must be unique.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "getDevice", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function getDevice(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^  const id = d.id ?? d._id;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ip", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^  const ip = d.ip ?? d.ip_address ?? d.ipAddress;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "listDevices", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function listDevices({ page, limit } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "({ page, limit } = {})"}, {"_type": "tag", "name": "mapFromServer", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^const mapFromServer = (d) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mapToServer", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^const mapToServer = (d) => ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^      err.data = { field: 'name', message: 'Device name or IP must be unique.' };$/", "language": "JavaScript", "kind": "property", "scope": "err.data", "scopeKind": "class"}, {"_type": "tag", "name": "mockDevices", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^let mockDevices = [$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "normalizeServerPagination", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^function normalizeServerPagination(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "pingDevice", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function pingDevice(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "updateDevice", "path": "/home/kavia/workspace/code-generation/network-management-5556-5683/FrontendApplication/src/api/devices.js", "pattern": "/^export async function updateDevice(id, payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, payload)"}], "hash": "c3164f62f6cd75122ff48eb495c95b4b", "format-version": 4, "code-base-name": "FrontendApplication", "filename": "FrontendApplication/src/api/devices.js", "fields": [{"name": "err.data = { field: 'name', message: 'Device name or IP must be unique.' };", "scope": "err.data", "scopeKind": "class", "description": "unavailable"}, {"name": "let mockDevices = [", "scope": "", "scopeKind": "", "description": "unavailable"}]}